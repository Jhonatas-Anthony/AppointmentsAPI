<!-- Código HTML para exibir os horários disponíveis -->
<table id="horariosTable">
  <thead>
    <tr>
      <th>Hora</th>
      <th>Status</th>
      <th>Reservado por</th>
    </tr>
  </thead>
  <tbody>
    <!-- As linhas dos horários serão adicionadas dinamicamente usando JavaScript -->
  </tbody>
</table>

<!-- Código JavaScript para carregar e manipular os horários disponíveis -->
<script>
  // Função para redirecionar o usuário para a tela de agendamento
  function goToAgendamento(hora) {
    // Redirecionar para a tela de agendamento, passando o horário como parâmetro
    window.location.href = '/agendar?hora=' + hora;
  }

  // ...

  fetch('/timeSlot/horarios')
    .then(response => response.json())
    .then(horarios => {
      const tableBody = document.querySelector('tbody');

      horarios.forEach(horario => {
        const row = document.createElement('tr');
        const horaCell = document.createElement('td');
        const statusCell = document.createElement('td');
        const reservadoPorCell = document.createElement('td');

        horaCell.textContent = horario.hora;
        statusCell.textContent = horario.disponivel ? 'Disponível' : 'Não disponível';
        reservadoPorCell.textContent = horario.usuario ? horario.usuario.nome : 'N/A';

        // Verificar se o horário está disponível antes de adicionar o evento de clique
        if (horario.disponivel) {
          // Adicionar o evento de clique para redirecionar o usuário ao clicar no horário
          row.addEventListener('click', () => {
            goToAgendamento(horario.hora);
          });
          // Adicionar uma classe CSS para indicar que o horário é clicável
          row.classList.add('horario-clicavel');
        }

        row.appendChild(horaCell);
        row.appendChild(statusCell);
        row.appendChild(reservadoPorCell);

        tableBody.appendChild(row);
      });
    })
    .catch(error => {
      console.error('Erro ao carregar os horários:', error);
    });
</script>
